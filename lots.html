<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Parking Lots</title>
  <link rel="stylesheet" href="parking_app.css">
</head>
<body>
	<!-- Header -->
	<div class="header">
		<h1 style="text-align: center;"> Parking Lots</h1>
	</div>
	
	<!-- Divisions for Buttons -->
	<div id="buttons" style="text-align: center;">
		<input type=button onclick="redirectTo('parking.html')" id="button1" value="Home Page" class="button">
		<input type=button onclick="redirectTo('lots.html')" id="button2" value="Parking Lots" class="button">
		<input type=button onclick="redirectTo('404.html')" id="button2" value="Need Help?" class="button">
		<input type=button onclick="redirectTo('404.html')" id="button3" value="Contact Us!" class="button">
		<input type=button onclick="redirectTo('404.html')" id="button4" value="Sercuity" class="button">
		<input type=button onclick="redirectTo('404.html')" id="button5" value="Sign In!" class="button">
	</div>
	
	<main>
		<p id = "parkingLots"></p>
	</main>


	<img src = "https://1000logos.net/wp-content/uploads/2021/06/Marist-Red-Foxes-logo.png" class="top-left">
</body>

<script src="parking.js"></script>
<script type="module">
	    let htmlString = "<p> Fetching file: andrewh512.github.io/SD330/parking.json";
	    htmlString += "<br> Loading into: 'data' multi-dimensional object (array) ";

	    async function fetchData() {
			const response = await fetch("https://andrewh512.github.io/SD330/parking.json");
			const data = await response.json();

			for (let i = 0; i < data['parking_lots'].length; i++) {
				let lot = data['parking_lots'][i];
				
				htmlString += "<hr><p>Lot: " + "<a href='space.html?lot=" + encodeURIComponent(lot['name']) + "'>" + lot['name'] + "</a> ";
				htmlString += "<p>Total spaces = " + lot['total_spaces'] + " </p>";
				htmlString += "<p>Comments: " + lot['comments'] + " </p>";
				htmlString += "<p>Map: <br> <img src=" + lot['map_filename'] + " alt=" + lot['map_filename'] + ">";
			}
			document.getElementById('parkingLots').innerHTML = htmlString;
		}

		fetchData();
	</script>
<footer>
   <hr><small>&copy; Andrew J Hennessy, 04/30/2024</small></hr>
</footer>


</html>